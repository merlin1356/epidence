<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="apple-mobile-web-app-title" content="ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤"/>
  <meta name="theme-color" content="#2c3e50"/>
  <meta name="description" content="ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤ ì„ëŒ€ê´€ë¦¬ ì‹œìŠ¤í…œ"/>
  <link rel="manifest" href="#" id="manifest-placeholder"/>
  <title>ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
    body{font-family:'Apple SD Gothic Neo','Malgun Gothic',Arial,sans-serif;background:#f0f2f5;overflow-x:hidden;}
    input,select,button,textarea{font-family:inherit;}
    button{cursor:pointer;}
    ::-webkit-scrollbar{width:4px;}
    ::-webkit-scrollbar-thumb{background:#bdc3c7;border-radius:2px;}

    /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ */
    #mob-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:#2c3e50;z-index:500;padding:6px 0 max(6px,env(safe-area-inset-bottom));border-top:1px solid #34495e;}
    .mob-btn{flex:1;display:flex;flex-direction:column;align-items:center;background:none;border:none;color:#95a5a6;padding:6px 2px;font-size:10px;gap:3px;transition:color 0.2s;}
    .mob-btn span:first-child{font-size:20px;line-height:1;}
    .mob-btn.active{color:#3498db;}

    @media(max-width:768px){
      #sidebar{display:none!important;}
      #main{margin-left:0!important;padding:16px!important;padding-bottom:90px!important;}
      #mob-nav{display:flex!important;}
      .stat-grid{grid-template-columns:repeat(2,1fr)!important;}
      .modal-inner{width:100%!important;max-width:100%!important;border-radius:20px 20px 0 0!important;position:fixed!important;bottom:0!important;margin:0!important;max-height:92vh!important;}
      .modal-wrap{align-items:flex-end!important;padding:0!important;}
      h2{font-size:22px!important;}
      table{font-size:13px!important;}
      td,th{padding:10px 8px!important;}
    }
    @media(min-width:769px){
      #mob-nav{display:none!important;}
    }

    .btn{border:none;border-radius:8px;cursor:pointer;font-weight:bold;transition:opacity 0.2s;}
    .btn:hover{opacity:0.85;}
    .btn:active{opacity:0.7;}
    .card{background:white;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.08);}
    input[type=number]::-webkit-inner-spin-button{-webkit-appearance:auto;}

    /* ë¡œê·¸ì¸ í™”ë©´ */
    .login-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#2c3e50,#3498db);padding:20px;}
    .login-box{background:white;border-radius:24px;padding:40px;width:100%;max-width:380px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.3);}
    .pin-display{font-size:36px;letter-spacing:12px;margin:20px 0;color:#2c3e50;min-height:48px;}
    .pin-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:20px 0;}
    .pin-btn{padding:18px;font-size:22px;font-weight:bold;background:#f8f9fa;border:2px solid #ecf0f1;border-radius:12px;cursor:pointer;transition:all 0.15s;color:#2c3e50;}
    .pin-btn:active{background:#3498db;color:white;transform:scale(0.95);}
  </style>
</head>
<body>
<div id="root"></div>

<script>
// PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë™ì  ìƒì„±
const manifest = {
  name: "ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤ ì„ëŒ€ê´€ë¦¬",
  short_name: "ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤",
  description: "ì„ëŒ€ê´€ë¦¬ ì‹œìŠ¤í…œ",
  start_url: window.location.href,
  display: "standalone",
  background_color: "#2c3e50",
  theme_color: "#2c3e50",
  orientation: "portrait-primary",
  icons: [
    { src: "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%232c3e50'/><text y='.9em' font-size='70' x='15'>ğŸ¢</text></svg>", sizes: "192x192", type: "image/svg+xml" },
    { src: "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%232c3e50'/><text y='.9em' font-size='70' x='15'>ğŸ¢</text></svg>", sizes: "512x512", type: "image/svg+xml" }
  ]
};
const blob = new Blob([JSON.stringify(manifest)], {type:'application/json'});
document.getElementById('manifest-placeholder').href = URL.createObjectURL(blob);

// ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡
if('serviceWorker' in navigator) {
  const sw = `
    const CACHE='allspace-v1';
    self.addEventListener('install', e => e.waitUntil(caches.open(CACHE).then(c => c.addAll(['/']))));
    self.addEventListener('fetch', e => e.respondWith(fetch(e.request).catch(() => caches.match(e.request))));
  `;
  const swBlob = new Blob([sw], {type:'text/javascript'});
  navigator.serviceWorker.register(URL.createObjectURL(swBlob)).catch(()=>{});
}
</script>

<script type="text/babel">
const { useState, useEffect, useCallback } = React;

const sb = supabase.createClient(
  'https://fkvktmkcoyfvtsluzmeo.supabase.co',
  'sb_publishable_HBGYuYTBxwoeSBNG204NCw_gNd3fIfv'
);

const fNum = n => Math.round(n||0).toLocaleString('ko-KR');
const fMan = n => Math.round((n||0)/10000).toLocaleString('ko-KR') + 'ë§Œì›';
const fUk  = n => ((n||0)/100000000).toFixed(2) + 'ì–µì›';

// â”€â”€â”€ ë¡œê·¸ì¸ í™”ë©´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function LoginScreen({ onLogin }) {
  const [pin, setPin] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);

  const handleNum = (n) => {
    if(pin.length >= 6) return;
    const next = pin + n;
    setPin(next);
    setError('');
    if(next.length >= 4) checkPin(next);
  };

  const checkPin = async (code) => {
    setLoading(true);
    try {
      const { data } = await sb.from('admins').select('*').eq('passcode', code).eq('active', true);
      if(data && data.length > 0) {
        onLogin(data[0]);
      } else {
        setTimeout(() => {
          setError('âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤');
          setPin('');
          setLoading(false);
        }, 400);
      }
    } catch(e) {
      setError('ì—°ê²° ì˜¤ë¥˜');
      setPin('');
      setLoading(false);
    }
  };

  return (
    <div className="login-wrap">
      <div className="login-box">
        <div style={{fontSize:'52px', marginBottom:'12px'}}>ğŸ¢</div>
        <h1 style={{fontSize:'24px', color:'#2c3e50', marginBottom:'4px', fontWeight:'bold'}}>ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤</h1>
        <p style={{color:'#7f8c8d', fontSize:'14px', marginBottom:'24px'}}>ì„ëŒ€ê´€ë¦¬ ì‹œìŠ¤í…œ</p>

        <div style={{background:'#f8f9fa', borderRadius:'12px', padding:'14px 20px', marginBottom:'8px', minHeight:'56px', display:'flex', alignItems:'center', justifyContent:'center'}}>
          {loading ? (
            <span style={{color:'#27ae60', fontSize:'20px'}}>âœ” í™•ì¸ì¤‘...</span>
          ) : (
            <span className="pin-display">
              {pin.split('').map((_, i) => 'â—').join(' ') || <span style={{color:'#bdc3c7', fontSize:'16px', letterSpacing:'2px'}}>ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</span>}
            </span>
          )}
        </div>

        {error && <div style={{color:'#e74c3c', fontSize:'14px', marginBottom:'8px', fontWeight:'bold'}}>{error}</div>}

        <div className="pin-grid">
          {[1,2,3,4,5,6,7,8,9].map(n => (
            <button key={n} className="pin-btn" onClick={() => handleNum(String(n))}>{n}</button>
          ))}
          <button className="pin-btn" onClick={() => { setPin(''); setError(''); }} style={{color:'#e74c3c'}}>C</button>
          <button className="pin-btn" onClick={() => handleNum('0')}>0</button>
          <button className="pin-btn" onClick={() => setPin(p => p.slice(0,-1))} style={{color:'#e74c3c'}}>âŒ«</button>
        </div>

        <p style={{fontSize:'12px', color:'#bdc3c7', marginTop:'16px'}}>ê´€ë¦¬ì ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
      </div>
    </div>
  );
}

// â”€â”€â”€ ë©”ì¸ ì•± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function App() {
  const [admin, setAdmin] = useState(null);
  const [activeTab, setActiveTab] = useState('dashboard');
  const [tenants, setTenants] = useState([]);
  const [expenses, setExpenses] = useState([]);
  const [loans, setLoans] = useState([]);
  const [admins, setAdmins] = useState([]);
  const [expenseCategories, setExpenseCategories] = useState([]);
  const [loading, setLoading] = useState(true);
  const [showModal, setShowModal] = useState(false);
  const [modalType, setModalType] = useState('');
  const [editItem, setEditItem] = useState(null);
  const [formData, setFormData] = useState({});
  const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0,7));
  const [tenantSort, setTenantSort] = useState('room');

  useEffect(() => { if(admin) loadData(); }, [admin]);

  const loadData = async () => {
    setLoading(true);
    try {
      const [t, e, l, ec, a] = await Promise.all([
        sb.from('tenants').select('*').order('room'),
        sb.from('expenses').select('*').order('date', {ascending:false}),
        sb.from('loans').select('*').order('lender_name'),
        sb.from('expense_categories').select('*').order('name'),
        sb.from('admins').select('id,name,role,active').order('name')
      ]);
      setTenants(t.data||[]);
      setExpenses(e.data||[]);
      setLoans(l.data||[]);
      setExpenseCategories(ec.data||[]);
      setAdmins(a.data||[]);
    } catch(err) { console.error(err); }
    finally { setLoading(false); }
  };

  const openModal = (type, item=null) => {
    setModalType(type);
    setEditItem(item);
    const defaults = {
      tenant: {name:'',room:'',contact:'',deposit:0,monthly_rent:0,maintenance_fee:0,payment_day:5,move_in_date:'',contract_end:'',status:'active'},
      expense: {date:new Date().toISOString().split('T')[0],category_name:'',amount:0,description:''},
      loan: {lender_name:'',initial_amount:0,remaining_amount:0,final_rate:0,start_date:'',loan_type:'bank',status:'active',note:''},
      admin: {name:'',passcode:'',role:'admin',active:true}
    };
    setFormData(item ? {...item} : defaults[type]);
    setShowModal(true);
  };

  const saveData = async (e) => {
    e.preventDefault();
    const tables = {tenant:'tenants',expense:'expenses',loan:'loans',admin:'admins'};
    try {
      if(editItem) {
        await sb.from(tables[modalType]).update(formData).eq('id', editItem.id);
      } else {
        await sb.from(tables[modalType]).insert([formData]);
      }
      await loadData();
      setShowModal(false);
      setFormData({});
      setEditItem(null);
    } catch(err) { alert('ì €ì¥ ì‹¤íŒ¨: '+err.message); }
  };

  const deleteItem = async (table, id) => {
    if(!window.confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
    await sb.from(table).delete().eq('id', id);
    await loadData();
  };

  if(!admin) return <LoginScreen onLogin={setAdmin}/>;

  // í†µê³„
  const curExpenses = expenses.filter(e => e.date?.startsWith(selectedMonth));
  const totalExp  = curExpenses.reduce((s,e) => s+(e.amount||0), 0);
  const totalRev  = tenants.reduce((s,t) => s+(t.monthly_rent||0)+(t.maintenance_fee||0), 0);
  const totalLoan = loans.reduce((s,l) => s+(l.remaining_amount||0), 0);
  const totalMInt = loans.reduce((s,l) => s+((l.remaining_amount*l.final_rate)/12), 0);
  const profit    = totalRev - totalExp;
  const byCat     = curExpenses.reduce((acc,e) => { acc[e.category_name||'ê¸°íƒ€']=(acc[e.category_name||'ê¸°íƒ€']||0)+e.amount; return acc; }, {});

  const totalDep   = tenants.reduce((s,t) => s+(t.deposit||0), 0);
  const totalRent  = tenants.reduce((s,t) => s+(t.monthly_rent||0), 0);
  const totalFee   = tenants.reduce((s,t) => s+(t.maintenance_fee||0), 0);
  const sortedTenants = [...tenants].sort((a,b) => {
    if(tenantSort==='room') return (a.room||'').localeCompare(b.room||'','ko');
    return (a.payment_day||0)-(b.payment_day||0);
  });

  const tabs = [
    {id:'dashboard',icon:'ğŸ“Š',label:'ëŒ€ì‹œë³´ë“œ'},
    {id:'tenants',  icon:'ğŸ‘¥',label:'ì„ì°¨ì¸'},
    {id:'expenses', icon:'ğŸ’¸',label:'ì§€ì¶œ'},
    {id:'loans',    icon:'ğŸ¦',label:'ëŒ€ì¶œ'},
    {id:'admins',   icon:'âš™ï¸',label:'ê´€ë¦¬ì'}
  ];

  const s = { // ê³µí†µ ìŠ¤íƒ€ì¼
    input: {width:'100%',padding:'12px',border:'2px solid #ecf0f1',borderRadius:'8px',fontSize:'15px',marginBottom:'12px'},
    label: {display:'block',marginBottom:'6px',fontSize:'13px',fontWeight:'bold',color:'#2c3e50'},
  };

  return (
    <div style={{display:'flex',minHeight:'100vh'}}>
      {/* PC ì‚¬ì´ë“œë°” */}
      <div id="sidebar" style={{width:'240px',background:'#2c3e50',color:'white',padding:'20px',position:'fixed',height:'100vh',overflowY:'auto',zIndex:100}}>
        <div style={{marginBottom:'8px'}}>
          <div style={{fontSize:'22px',fontWeight:'bold'}}>ğŸ¢ ì˜¬ì¸ìŠ¤í˜ì´ìŠ¤</div>
          <div style={{fontSize:'12px',color:'#7f8c8d',marginTop:'4px'}}>ğŸ‘¤ {admin.name}</div>
        </div>
        <hr style={{borderColor:'#34495e',margin:'16px 0'}}/>
        <nav>
          {tabs.map(({id,icon,label}) => (
            <button key={id} onClick={()=>setActiveTab(id)} style={{display:'flex',alignItems:'center',gap:'10px',width:'100%',padding:'12px 14px',marginBottom:'6px',background:activeTab===id?'#3498db':'transparent',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontSize:'15px',textAlign:'left',transition:'background 0.2s'}}>
              <span>{icon}</span><span>{label}</span>
            </button>
          ))}
        </nav>
        <div style={{position:'absolute',bottom:'20px',left:'20px',right:'20px'}}>
          <div style={{padding:'10px',background:'#27ae60',borderRadius:'8px',fontSize:'12px',textAlign:'center',marginBottom:'8px'}}>â˜ï¸ í´ë¼ìš°ë“œ ì—°ê²°</div>
          <button onClick={()=>setAdmin(null)} style={{width:'100%',padding:'10px',background:'#e74c3c',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontSize:'13px',fontWeight:'bold'}}>ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
        </div>
      </div>

      {/* ë©”ì¸ ì»¨í…ì¸  */}
      <div id="main" style={{flex:1,marginLeft:'240px',padding:'30px',maxWidth:'100%'}}>
        {loading && <div style={{textAlign:'center',padding:'60px',color:'#7f8c8d',fontSize:'18px'}}>ë¡œë”©ì¤‘...</div>}

        {/* â”€â”€ ëŒ€ì‹œë³´ë“œ â”€â”€ */}
        {!loading && activeTab==='dashboard' && (
          <div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',flexWrap:'wrap',gap:'12px'}}>
              <h2 style={{fontSize:'28px',color:'#2c3e50',fontWeight:'bold'}}>ğŸ“Š ëŒ€ì‹œë³´ë“œ</h2>
              <input type="month" value={selectedMonth} onChange={e=>setSelectedMonth(e.target.value)} style={{padding:'8px 14px',fontSize:'15px',borderRadius:'8px',border:'2px solid #3498db',color:'#2c3e50'}}/>
            </div>
            <div className="stat-grid" style={{display:'grid',gridTemplateColumns:'repeat(5,1fr)',gap:'14px',marginBottom:'24px'}}>
              {[
                {label:'ì›” ìˆ˜ìµ',  val:fMan(totalRev),   color:'#27ae60'},
                {label:'ì›” ì§€ì¶œ',  val:fMan(totalExp),   color:'#e74c3c'},
                {label:'ìˆœìµ',     val:fMan(profit),     color:profit>=0?'#3498db':'#e74c3c'},
                {label:'ëŒ€ì¶œì”ì•¡', val:fUk(totalLoan),   color:'#c0392b'},
                {label:'ì›” ì´ì',  val:fMan(totalMInt),  color:'#e67e22'}
              ].map(({label,val,color}) => (
                <div key={label} className="card" style={{padding:'18px',borderTop:`4px solid ${color}`}}>
                  <div style={{fontSize:'12px',color:'#7f8c8d',marginBottom:'8px'}}>{label}</div>
                  <div style={{fontSize:'20px',fontWeight:'bold',color}}>{val}</div>
                </div>
              ))}
            </div>
            <div className="card" style={{padding:'20px'}}>
              <h3 style={{fontSize:'16px',marginBottom:'16px',color:'#2c3e50'}}>ğŸ’¸ ì¹´í…Œê³ ë¦¬ë³„ ì§€ì¶œ ({selectedMonth})</h3>
              {Object.keys(byCat).length===0 ? <p style={{color:'#95a5a6'}}>ì´ë²ˆ ë‹¬ ì§€ì¶œì´ ì—†ìŠµë‹ˆë‹¤</p> :
                Object.entries(byCat).sort((a,b)=>b[1]-a[1]).map(([cat,amt]) => (
                  <div key={cat} style={{display:'flex',justifyContent:'space-between',padding:'10px 0',borderBottom:'1px solid #f0f0f0'}}>
                    <span style={{color:'#2c3e50'}}>{cat}</span>
                    <strong style={{color:'#e74c3c'}}>{fMan(amt)}</strong>
                  </div>
                ))
              }
            </div>
          </div>
        )}

        {/* â”€â”€ ì„ì°¨ì¸ â”€â”€ */}
        {!loading && activeTab==='tenants' && (
          <div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',flexWrap:'wrap',gap:'10px'}}>
              <h2 style={{fontSize:'28px',color:'#2c3e50',fontWeight:'bold'}}>ğŸ‘¥ ì„ì°¨ì¸ ê´€ë¦¬</h2>
              <button className="btn" onClick={()=>openModal('tenant')} style={{padding:'12px 22px',background:'#27ae60',color:'white',fontSize:'15px'}}>+ ìƒˆ ì„ì°¨ì¸</button>
            </div>
            {/* í•©ê³„ ì¹´ë“œ */}
            <div className="stat-grid" style={{display:'grid',gridTemplateColumns:'repeat(5,1fr)',gap:'12px',marginBottom:'20px'}}>
              {[
                {label:'ì´ ì„ì°¨ì¸',  val:`${tenants.length}ëª…`,       color:'#3498db'},
                {label:'ë³´ì¦ê¸ˆ í•©ê³„',val:`${(totalDep/100000000).toFixed(1)}ì–µ`, color:'#9b59b6'},
                {label:'ì›”ì„¸ í•©ê³„',  val:fMan(totalRent),              color:'#27ae60'},
                {label:'ê´€ë¦¬ë¹„ í•©ê³„',val:fMan(totalFee),               color:'#e67e22'},
                {label:'ì›” ì´ìˆ˜ì…',  val:fMan(totalRent+totalFee),     color:'#e74c3c'}
              ].map(({label,val,color}) => (
                <div key={label} className="card" style={{padding:'16px',borderLeft:`5px solid ${color}`}}>
                  <div style={{fontSize:'12px',color:'#7f8c8d',marginBottom:'6px'}}>{label}</div>
                  <div style={{fontSize:'18px',fontWeight:'bold',color}}>{val}</div>
                </div>
              ))}
            </div>
            {/* ì •ë ¬ ë²„íŠ¼ */}
            <div style={{display:'flex',gap:'8px',marginBottom:'14px',alignItems:'center'}}>
              <span style={{fontSize:'13px',color:'#7f8c8d',fontWeight:'bold'}}>ì •ë ¬:</span>
              {[{k:'room',l:'ğŸ  í˜¸ìˆ˜ìˆœ'},{k:'payment_day',l:'ğŸ“… ë‚©ì…ì¼ìˆœ'}].map(({k,l}) => (
                <button key={k} onClick={()=>setTenantSort(k)} style={{padding:'7px 14px',background:tenantSort===k?'#2c3e50':'white',color:tenantSort===k?'white':'#2c3e50',border:'2px solid #2c3e50',borderRadius:'8px',cursor:'pointer',fontSize:'13px',fontWeight:'bold'}}>
                  {l}
                </button>
              ))}
            </div>
            {tenants.length===0 ? (
              <div className="card" style={{padding:'60px',textAlign:'center',color:'#95a5a6'}}>
                <div style={{fontSize:'48px',marginBottom:'12px'}}>ğŸ“</div>
                <p>ë“±ë¡ëœ ì„ì°¨ì¸ì´ ì—†ìŠµë‹ˆë‹¤</p>
              </div>
            ) : (
              <div className="card" style={{overflow:'auto'}}>
                <table style={{width:'100%',borderCollapse:'collapse',minWidth:'650px'}}>
                  <thead style={{background:'#34495e',color:'white'}}>
                    <tr>{['í˜¸ìˆ˜','ì´ë¦„','ì—°ë½ì²˜','ë³´ì¦ê¸ˆ','ì›”ì„¸','ê´€ë¦¬ë¹„','ë‚©ì…ì¼','ê´€ë¦¬'].map(h=><th key={h} style={{padding:'13px 12px',textAlign:'left',fontSize:'13px'}}>{h}</th>)}</tr>
                  </thead>
                  <tbody>
                    {sortedTenants.map((t,i) => (
                      <tr key={t.id} style={{borderBottom:'1px solid #f0f0f0',background:i%2===0?'white':'#fafafa'}}>
                        <td style={{padding:'13px 12px',fontWeight:'bold',color:'#3498db'}}>{t.room}</td>
                        <td style={{padding:'13px 12px'}}>{t.name}</td>
                        <td style={{padding:'13px 12px'}}>{t.contact}</td>
                        <td style={{padding:'13px 12px'}}>{fMan(t.deposit)}</td>
                        <td style={{padding:'13px 12px'}}>{fMan(t.monthly_rent)}</td>
                        <td style={{padding:'13px 12px'}}>{fMan(t.maintenance_fee)}</td>
                        <td style={{padding:'13px 12px'}}><span style={{background:'#eaf4ff',color:'#3498db',padding:'3px 8px',borderRadius:'20px',fontSize:'13px',fontWeight:'bold'}}>ë§¤ì›” {t.payment_day}ì¼</span></td>
                        <td style={{padding:'13px 12px'}}>
                          <button className="btn" onClick={()=>openModal('tenant',t)} style={{padding:'6px 12px',background:'#3498db',color:'white',fontSize:'13px'}}>ìˆ˜ì •</button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                  <tfoot>
                    <tr style={{background:'#2c3e50',color:'white',fontWeight:'bold'}}>
                      <td style={{padding:'13px 12px'}} colSpan="3">í•©ê³„ ({tenants.length}ëª…)</td>
                      <td style={{padding:'13px 12px'}}>{fMan(totalDep)}</td>
                      <td style={{padding:'13px 12px'}}>{fMan(totalRent)}</td>
                      <td style={{padding:'13px 12px'}}>{fMan(totalFee)}</td>
                      <td style={{padding:'13px 12px'}} colSpan="2">ì´ {fMan(totalRent+totalFee)}/ì›”</td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            )}
          </div>
        )}

        {/* â”€â”€ ì§€ì¶œ â”€â”€ */}
        {!loading && activeTab==='expenses' && (
          <div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px',flexWrap:'wrap',gap:'10px'}}>
              <h2 style={{fontSize:'28px',color:'#2c3e50',fontWeight:'bold'}}>ğŸ’¸ ì§€ì¶œ ê´€ë¦¬</h2>
              <div style={{display:'flex',gap:'10px',alignItems:'center',flexWrap:'wrap'}}>
                <input type="month" value={selectedMonth} onChange={e=>setSelectedMonth(e.target.value)} style={{padding:'8px 12px',fontSize:'14px',borderRadius:'8px',border:'2px solid #e74c3c'}}/>
                <button className="btn" onClick={()=>openModal('expense')} style={{padding:'12px 22px',background:'#e74c3c',color:'white',fontSize:'15px'}}>+ ìƒˆ ì§€ì¶œ</button>
              </div>
            </div>
            <div className="card" style={{padding:'20px',marginBottom:'16px',display:'flex',alignItems:'center',justifyContent:'space-between'}}>
              <div>
                <div style={{fontSize:'13px',color:'#7f8c8d'}}>ì´ë²ˆ ë‹¬ ì´ ì§€ì¶œ</div>
                <div style={{fontSize:'36px',fontWeight:'bold',color:'#e74c3c'}}>{fMan(totalExp)}</div>
              </div>
              <div style={{fontSize:'48px'}}>ğŸ’¸</div>
            </div>
            <div className="card" style={{overflow:'auto'}}>
              <table style={{width:'100%',borderCollapse:'collapse',minWidth:'550px'}}>
                <thead style={{background:'#e74c3c',color:'white'}}>
                  <tr>{['ë‚ ì§œ','ì¹´í…Œê³ ë¦¬','ê¸ˆì•¡','ì„¤ëª…','ê´€ë¦¬'].map(h=><th key={h} style={{padding:'13px 12px',textAlign:'left',fontSize:'13px'}}>{h}</th>)}</tr>
                </thead>
                <tbody>
                  {curExpenses.length===0 ? (
                    <tr><td colSpan="5" style={{padding:'40px',textAlign:'center',color:'#95a5a6'}}>ì´ë²ˆ ë‹¬ ì§€ì¶œì´ ì—†ìŠµë‹ˆë‹¤</td></tr>
                  ) : curExpenses.map((exp,i) => (
                    <tr key={exp.id} style={{borderBottom:'1px solid #f0f0f0',background:i%2===0?'white':'#fff8f8'}}>
                      <td style={{padding:'13px 12px'}}>{exp.date}</td>
                      <td style={{padding:'13px 12px'}}><span style={{background:'#fdeaea',color:'#e74c3c',padding:'3px 8px',borderRadius:'6px',fontSize:'13px'}}>{exp.category_name}</span></td>
                      <td style={{padding:'13px 12px',fontWeight:'bold',color:'#e74c3c'}}>{fNum(exp.amount)}ì›</td>
                      <td style={{padding:'13px 12px',color:'#7f8c8d',fontSize:'13px'}}>{exp.description}</td>
                      <td style={{padding:'13px 12px'}}>
                        <button className="btn" onClick={()=>openModal('expense',exp)} style={{padding:'5px 10px',background:'#3498db',color:'white',fontSize:'12px',marginRight:'4px'}}>ìˆ˜ì •</button>
                        <button className="btn" onClick={()=>deleteItem('expenses',exp.id)} style={{padding:'5px 10px',background:'#e74c3c',color:'white',fontSize:'12px'}}>ì‚­ì œ</button>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        )}

        {/* â”€â”€ ëŒ€ì¶œ â”€â”€ */}
        {!loading && activeTab==='loans' && (
          <div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',flexWrap:'wrap',gap:'10px'}}>
              <h2 style={{fontSize:'28px',color:'#2c3e50',fontWeight:'bold'}}>ğŸ¦ ëŒ€ì¶œ ê´€ë¦¬</h2>
              <button className="btn" onClick={()=>openModal('loan')} style={{padding:'12px 22px',background:'#c0392b',color:'white',fontSize:'15px'}}>+ ìƒˆ ëŒ€ì¶œ</button>
            </div>
            <div className="stat-grid" style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'14px',marginBottom:'20px'}}>
              {[
                {label:'ì´ ëŒ€ì¶œì”ì•¡', val:fUk(totalLoan),        color:'#c0392b'},
                {label:'ì›” ì´ì í•©ê³„',val:fMan(totalMInt),       color:'#e67e22'},
                {label:'ì—° ì´ì í•©ê³„',val:fMan(totalMInt*12),    color:'#f39c12'}
              ].map(({label,val,color})=>(
                <div key={label} className="card" style={{padding:'20px',borderLeft:`5px solid ${color}`}}>
                  <div style={{fontSize:'13px',color:'#7f8c8d',marginBottom:'8px'}}>{label}</div>
                  <div style={{fontSize:'24px',fontWeight:'bold',color}}>{val}</div>
                </div>
              ))}
            </div>
            {loans.length===0 ? (
              <div className="card" style={{padding:'60px',textAlign:'center',color:'#95a5a6'}}>
                <div style={{fontSize:'48px',marginBottom:'12px'}}>ğŸ¦</div>
                <p>ë“±ë¡ëœ ëŒ€ì¶œì´ ì—†ìŠµë‹ˆë‹¤</p>
              </div>
            ) : (
              <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(300px,1fr))',gap:'16px'}}>
                {loans.map(loan => {
                  const yearInt = (loan.remaining_amount||0)*(loan.final_rate||0);
                  const monInt  = yearInt/12;
                  return (
                    <div key={loan.id} className="card" style={{overflow:'hidden'}}>
                      <div style={{background:'#2c3e50',color:'white',padding:'16px',display:'flex',justifyContent:'space-between',alignItems:'center'}}>
                        <div>
                          <div style={{fontSize:'18px',fontWeight:'bold'}}>ğŸ¦ {loan.lender_name}</div>
                          <div style={{fontSize:'12px',opacity:0.7,marginTop:'2px'}}>{loan.loan_type==='bank'?'ì€í–‰ëŒ€ì¶œ':loan.loan_type==='personal'?'ê°œì¸ì°¨ì…':'ê¸°íƒ€'}</div>
                        </div>
                        <div style={{display:'flex',gap:'6px'}}>
                          <button className="btn" onClick={()=>openModal('loan',loan)} style={{padding:'6px 12px',background:'#3498db',color:'white',fontSize:'13px'}}>ìˆ˜ì •</button>
                          <button className="btn" onClick={()=>deleteItem('loans',loan.id)} style={{padding:'6px 12px',background:'#e74c3c',color:'white',fontSize:'13px'}}>ì‚­ì œ</button>
                        </div>
                      </div>
                      <div style={{padding:'20px'}}>
                        <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginBottom:'16px'}}>
                          <div>
                            <div style={{fontSize:'12px',color:'#7f8c8d',marginBottom:'4px'}}>ëŒ€ì¶œì”ì•¡</div>
                            <div style={{fontSize:'20px',fontWeight:'bold',color:'#c0392b'}}>{fUk(loan.remaining_amount)}</div>
                            <div style={{fontSize:'12px',color:'#95a5a6'}}>{fNum(loan.remaining_amount)}ì›</div>
                          </div>
                          <div>
                            <div style={{fontSize:'12px',color:'#7f8c8d',marginBottom:'4px'}}>ê¸ˆë¦¬</div>
                            <div style={{fontSize:'20px',fontWeight:'bold',color:'#2c3e50'}}>{((loan.final_rate||0)*100).toFixed(2)}%</div>
                          </div>
                        </div>
                        <div style={{background:'#fef9f0',border:'2px solid #f39c12',borderRadius:'10px',padding:'14px'}}>
                          <div style={{fontSize:'13px',fontWeight:'bold',color:'#2c3e50',marginBottom:'10px'}}>ğŸ“Š ì´ì ìë™ê³„ì‚°</div>
                          <div style={{display:'flex',justifyContent:'space-between',marginBottom:'6px'}}>
                            <span style={{color:'#7f8c8d',fontSize:'13px'}}>ì—° ì´ì</span>
                            <strong style={{color:'#e67e22'}}>{fNum(yearInt)}ì›</strong>
                          </div>
                          <div style={{display:'flex',justifyContent:'space-between'}}>
                            <span style={{color:'#7f8c8d',fontSize:'13px'}}>ì›” ì´ì</span>
                            <strong style={{color:'#e74c3c',fontSize:'18px'}}>{fNum(monInt)}ì›</strong>
                          </div>
                        </div>
                        {loan.note && <div style={{marginTop:'10px',padding:'8px',background:'#f8f9fa',borderRadius:'8px',fontSize:'13px',color:'#7f8c8d'}}>ğŸ“ {loan.note}</div>}
                      </div>
                    </div>
                  );
                })}
              </div>
            )}
          </div>
        )}

        {/* â”€â”€ ê´€ë¦¬ì â”€â”€ */}
        {!loading && activeTab==='admins' && (
          <div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',flexWrap:'wrap',gap:'10px'}}>
              <h2 style={{fontSize:'28px',color:'#2c3e50',fontWeight:'bold'}}>âš™ï¸ ê´€ë¦¬ì ì„¤ì •</h2>
              <button className="btn" onClick={()=>openModal('admin')} style={{padding:'12px 22px',background:'#8e44ad',color:'white',fontSize:'15px'}}>+ ê´€ë¦¬ì ì¶”ê°€</button>
            </div>
            <div className="card" style={{overflow:'auto',marginBottom:'20px'}}>
              <table style={{width:'100%',borderCollapse:'collapse'}}>
                <thead style={{background:'#8e44ad',color:'white'}}>
                  <tr>{['ì´ë¦„','ë¹„ë°€ë²ˆí˜¸','ê¶Œí•œ','ìƒíƒœ','ê´€ë¦¬'].map(h=><th key={h} style={{padding:'14px 16px',textAlign:'left',fontSize:'14px'}}>{h}</th>)}</tr>
                </thead>
                <tbody>
                  {admins.map((a,i) => (
                    <tr key={a.id} style={{borderBottom:'1px solid #f0f0f0',background:i%2===0?'white':'#fafafa'}}>
                      <td style={{padding:'14px 16px',fontWeight:'bold'}}>ğŸ‘¤ {a.name}</td>
                      <td style={{padding:'14px 16px'}}>
                        <span style={{background:'#f0f0f0',padding:'4px 10px',borderRadius:'6px',fontFamily:'monospace',fontSize:'14px'}}>â€¢â€¢â€¢â€¢</span>
                      </td>
                      <td style={{padding:'14px 16px'}}>
                        <span style={{background:a.role==='super'?'#e74c3c':'#3498db',color:'white',padding:'3px 10px',borderRadius:'20px',fontSize:'12px',fontWeight:'bold'}}>
                          {a.role==='super'?'ìµœê³ ê´€ë¦¬ì':'ê´€ë¦¬ì'}
                        </span>
                      </td>
                      <td style={{padding:'14px 16px'}}>
                        <span style={{background:a.active?'#27ae60':'#95a5a6',color:'white',padding:'3px 10px',borderRadius:'20px',fontSize:'12px',fontWeight:'bold'}}>
                          {a.active?'í™œì„±':'ë¹„í™œì„±'}
                        </span>
                      </td>
                      <td style={{padding:'14px 16px',display:'flex',gap:'6px'}}>
                        <button className="btn" onClick={()=>openModal('admin',a)} style={{padding:'6px 12px',background:'#3498db',color:'white',fontSize:'13px'}}>ìˆ˜ì •</button>
                        {a.id!==admin.id && <button className="btn" onClick={()=>deleteItem('admins',a.id)} style={{padding:'6px 12px',background:'#e74c3c',color:'white',fontSize:'13px'}}>ì‚­ì œ</button>}
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
            <div className="card" style={{padding:'20px',background:'#f0f8ff',border:'2px solid #3498db'}}>
              <h3 style={{fontSize:'16px',color:'#2c3e50',marginBottom:'12px'}}>ğŸ“± ì•± ì„¤ì¹˜ ë°©ë²•</h3>
              <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(200px,1fr))',gap:'12px'}}>
                {[
                  {icon:'ğŸ¤–',title:'ì•ˆë“œë¡œì´ë“œ',desc:'Chrome ë¸Œë¼ìš°ì €ë¡œ ì ‘ì† â†’ ë©”ë‰´(â‹®) â†’ "í™ˆ í™”ë©´ì— ì¶”ê°€"'},
                  {icon:'ğŸ',title:'ì•„ì´í°',desc:'Safari ë¸Œë¼ìš°ì €ë¡œ ì ‘ì† â†’ ê³µìœ (ğŸ“¤) â†’ "í™ˆ í™”ë©´ì— ì¶”ê°€"'},
                  {icon:'ğŸ’»',title:'PC',desc:'Chrome ë¸Œë¼ìš°ì €ë¡œ ì ‘ì† â†’ ì£¼ì†Œì°½ ì˜¤ë¥¸ìª½ ì„¤ì¹˜ ì•„ì´ì½˜ í´ë¦­'},
                ].map(({icon,title,desc}) => (
                  <div key={title} style={{background:'white',padding:'14px',borderRadius:'10px'}}>
                    <div style={{fontSize:'24px',marginBottom:'6px'}}>{icon}</div>
                    <div style={{fontWeight:'bold',marginBottom:'4px',color:'#2c3e50'}}>{title}</div>
                    <div style={{fontSize:'13px',color:'#7f8c8d',lineHeight:'1.5'}}>{desc}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        )}
      </div>

      {/* ëª¨ë°”ì¼ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */}
      <div id="mob-nav">
        {tabs.map(({id,icon,label}) => (
          <button key={id} className={`mob-btn${activeTab===id?' active':''}`} onClick={()=>setActiveTab(id)}>
            <span>{icon}</span>
            <span>{label}</span>
          </button>
        ))}
      </div>

      {/* ëª¨ë‹¬ */}
      {showModal && (
        <div className="modal-wrap" style={{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.6)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'20px'}}
          onClick={e=>{if(e.target===e.currentTarget)setShowModal(false);}}>
          <div className="modal-inner card" style={{width:'100%',maxWidth:'500px',maxHeight:'88vh',overflowY:'auto',padding:'24px',position:'relative'}}
            onClick={e=>e.stopPropagation()}>
            <button onClick={()=>setShowModal(false)} style={{position:'absolute',top:'14px',right:'14px',background:'#e74c3c',color:'white',border:'none',borderRadius:'50%',width:'34px',height:'34px',fontSize:'20px',cursor:'pointer',fontWeight:'bold',lineHeight:1}}>Ã—</button>
            <h3 style={{fontSize:'20px',color:'#2c3e50',marginBottom:'20px'}}>{editItem?'ìˆ˜ì •':'ìƒˆ ë“±ë¡'} - {{tenant:'ì„ì°¨ì¸',expense:'ì§€ì¶œ',loan:'ëŒ€ì¶œ',admin:'ê´€ë¦¬ì'}[modalType]}</h3>
            <form onSubmit={saveData}>
              {modalType==='tenant' && <>
                {[
                  {l:'ğŸ  í˜¸ìˆ˜',f:'room',t:'text',p:'ì˜ˆ: 301í˜¸'},
                  {l:'ğŸ‘¤ ì´ë¦„',f:'name',t:'text',p:'ì˜ˆ: ê¹€ë¯¼ìˆ˜'},
                  {l:'ğŸ“ ì—°ë½ì²˜',f:'contact',t:'text',p:'ì˜ˆ: 010-1234-5678'},
                  {l:'ğŸ’° ë³´ì¦ê¸ˆ (ì›)',f:'deposit',t:'number',p:'ì˜ˆ: 10000000'},
                  {l:'ğŸ¦ ì›”ì„¸ (ì›)',f:'monthly_rent',t:'number',p:'ì˜ˆ: 550000'},
                  {l:'ğŸ”§ ê´€ë¦¬ë¹„ (ì›)',f:'maintenance_fee',t:'number',p:'ì˜ˆ: 100000'},
                  {l:'ğŸ“… ë‚©ì…ì¼ (1~31)',f:'payment_day',t:'number',p:'ì˜ˆ: 5'},
                  {l:'ğŸšª ì…ì£¼ì¼',f:'move_in_date',t:'date',p:''},
                  {l:'ğŸ“‹ ê³„ì•½ë§Œë£Œì¼',f:'contract_end',t:'date',p:''},
                ].map(({l,f,t,p})=>(
                  <div key={f}>
                    <label style={s.label}>{l}</label>
                    <input type={t} placeholder={p} value={formData[f]||''} onChange={e=>setFormData({...formData,[f]:t==='number'?(parseInt(e.target.value)||0):e.target.value})} style={s.input} required/>
                  </div>
                ))}
              </>}

              {modalType==='expense' && <>
                <label style={s.label}>ğŸ“… ë‚ ì§œ</label>
                <input type="date" value={formData.date||''} onChange={e=>setFormData({...formData,date:e.target.value})} style={s.input} required/>
                <label style={s.label}>ğŸ“‚ ì¹´í…Œê³ ë¦¬</label>
                <select value={formData.category_name||''} onChange={e=>setFormData({...formData,category_name:e.target.value})} style={s.input} required>
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  {expenseCategories.map(c=><option key={c.id} value={c.name}>{c.name}</option>)}
                </select>
                <label style={s.label}>ğŸ’° ê¸ˆì•¡ (ì›)</label>
                <input type="number" value={formData.amount||''} onChange={e=>setFormData({...formData,amount:parseInt(e.target.value)||0})} style={s.input} required/>
                <label style={s.label}>ğŸ“ ì„¤ëª…</label>
                <input value={formData.description||''} onChange={e=>setFormData({...formData,description:e.target.value})} style={s.input}/>
              </>}

              {modalType==='loan' && <>
                <label style={s.label}>ğŸ¦ ëŒ€ì¶œì²˜ ì´ë¦„</label>
                <input placeholder="ì˜ˆ: ìˆ˜í˜‘ì€í–‰" value={formData.lender_name||''} onChange={e=>setFormData({...formData,lender_name:e.target.value})} style={s.input} required/>
                <label style={s.label}>ğŸ’° ëŒ€ì¶œ ì”ì•¡ (ì›)</label>
                <input type="number" placeholder="ì˜ˆ: 2034550000" value={formData.remaining_amount||''} onChange={e=>setFormData({...formData,remaining_amount:parseInt(e.target.value)||0})} style={{...s.input,borderColor:'#c0392b'}} required/>
                <label style={s.label}>ğŸ“Š ì ìš© ê¸ˆë¦¬ (%)</label>
                <input type="number" step="0.01" min="0" max="100" placeholder="ì˜ˆ: 2.45" value={formData.final_rate?(formData.final_rate*100).toFixed(2):''} onChange={e=>setFormData({...formData,final_rate:parseFloat(e.target.value)/100||0})} style={{...s.input,borderColor:'#e67e22'}} required/>
                {formData.remaining_amount>0 && formData.final_rate>0 && (
                  <div style={{background:'#fef9f0',border:'2px solid #f39c12',borderRadius:'10px',padding:'14px',marginBottom:'12px'}}>
                    <div style={{fontWeight:'bold',marginBottom:'8px',fontSize:'13px'}}>ğŸ“Š ë¯¸ë¦¬ë³´ê¸°</div>
                    <div style={{display:'flex',justifyContent:'space-between',marginBottom:'6px'}}>
                      <span style={{color:'#7f8c8d',fontSize:'13px'}}>ì—° ì´ì</span>
                      <strong style={{color:'#e67e22'}}>{fNum(formData.remaining_amount*formData.final_rate)}ì›</strong>
                    </div>
                    <div style={{display:'flex',justifyContent:'space-between'}}>
                      <span style={{color:'#7f8c8d',fontSize:'13px'}}>ì›” ì´ì</span>
                      <strong style={{color:'#e74c3c',fontSize:'17px'}}>{fNum(formData.remaining_amount*formData.final_rate/12)}ì›</strong>
                    </div>
                  </div>
                )}
                <label style={s.label}>ğŸ·ï¸ ëŒ€ì¶œ ìœ í˜•</label>
                <select value={formData.loan_type||'bank'} onChange={e=>setFormData({...formData,loan_type:e.target.value})} style={s.input}>
                  <option value="bank">ì€í–‰ ëŒ€ì¶œ</option>
                  <option value="personal">ê°œì¸ ì°¨ì…</option>
                  <option value="other">ê¸°íƒ€</option>
                </select>
                <label style={s.label}>ğŸ“… ëŒ€ì¶œ ì‹œì‘ì¼</label>
                <input type="date" value={formData.start_date||''} onChange={e=>setFormData({...formData,start_date:e.target.value})} style={s.input}/>
                <label style={s.label}>ğŸ“ ë©”ëª¨</label>
                <input placeholder="ì˜ˆ: ì„œìš¸ì‹œ ì´ìì§€ì› í¬í•¨" value={formData.note||''} onChange={e=>setFormData({...formData,note:e.target.value})} style={s.input}/>
              </>}

              {modalType==='admin' && <>
                <label style={s.label}>ğŸ‘¤ ì´ë¦„</label>
                <input placeholder="ì˜ˆ: ê¹€ì² ìˆ˜" value={formData.name||''} onChange={e=>setFormData({...formData,name:e.target.value})} style={s.input} required/>
                <label style={s.label}>ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ (ìˆ«ì)</label>
                <input type="number" placeholder="ì˜ˆ: 5678" value={formData.passcode||''} onChange={e=>setFormData({...formData,passcode:e.target.value})} style={s.input} required/>
                <label style={s.label}>ğŸ·ï¸ ê¶Œí•œ</label>
                <select value={formData.role||'admin'} onChange={e=>setFormData({...formData,role:e.target.value})} style={s.input}>
                  <option value="super">ìµœê³ ê´€ë¦¬ì</option>
                  <option value="admin">ê´€ë¦¬ì</option>
                </select>
                <label style={s.label}>ìƒíƒœ</label>
                <select value={formData.active?'true':'false'} onChange={e=>setFormData({...formData,active:e.target.value==='true'})} style={s.input}>
                  <option value="true">í™œì„±</option>
                  <option value="false">ë¹„í™œì„±</option>
                </select>
                <div style={{background:'#fff3cd',border:'1px solid #ffc107',borderRadius:'8px',padding:'12px',marginBottom:'12px',fontSize:'13px',color:'#856404'}}>
                  âš ï¸ ë¹„ë°€ë²ˆí˜¸ëŠ” ë¡œê·¸ì¸ í™”ë©´ì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë³„ë„ë¡œ ì•Œë ¤ì£¼ì„¸ìš”!
                </div>
              </>}

              <div style={{display:'flex',gap:'10px',marginTop:'16px'}}>
                <button type="button" className="btn" onClick={()=>setShowModal(false)} style={{flex:1,padding:'14px',background:'#95a5a6',color:'white',fontSize:'15px'}}>ì·¨ì†Œ</button>
                <button type="submit" className="btn" style={{flex:1,padding:'14px',background:'#27ae60',color:'white',fontSize:'15px'}}>{editItem?'ìˆ˜ì • ì™„ë£Œ':'ë“±ë¡ ì™„ë£Œ'}</button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
}

ReactDOM.render(<App/>, document.getElementById('root'));
</script>
</body>
</html>
